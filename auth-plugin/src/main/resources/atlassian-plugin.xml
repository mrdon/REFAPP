<atlassian-plugin key="${atlassian.plugin.key}" name="${pom.name}" pluginsVersion="2">
    <plugin-info>
        <description>${pom.description}</description>
        <version>${pom.version}</version>
        <vendor name="${pom.organization.name}" url="${pom.organization.url}" />
        <bundle-instructions>
            <Export-Package>com.atlassian.user,com.atlassian.seraph.auth,com.atlassian.seraph.config</Export-Package>
        </bundle-instructions>
    </plugin-info>
    
    <component key="repositoryIdentifier" class="com.atlassian.security.auth.plugin.internal.AuthPluginRepositoryIdentifier">
        <interface>com.atlassian.user.repository.RepositoryIdentifier</interface>
    </component>
    <component key="memoryProvider" class="com.atlassian.user.impl.memory.provider.MemoryProvider" />
    <component key="passwordEncryptor" class="com.atlassian.user.impl.osuser.security.password.OSUPasswordEncryptor">
        <interface>com.atlassian.user.security.password.PasswordEncryptor</interface>
    </component>
    <component key="userManager" class="com.atlassian.user.impl.memory.MemoryUserManager" public="true">
        <interface>com.atlassian.user.UserManager</interface>
    </component>
    <component key="groupManager" class="com.atlassian.user.impl.memory.MemoryGroupManager" public="true">
        <interface>com.atlassian.user.GroupManager</interface>
    </component>
    <component key="authenticationInitialization" class="com.atlassian.security.auth.plugin.internal.AuthenticationInitialization" />
    
    <servlet-filter key="login-filter" class="com.atlassian.seraph.filter.LoginFilter" location="top" weight="5">
        <url-pattern>/*</url-pattern>
    </servlet-filter>
    <servlet-filter key="security" class="com.atlassian.seraph.filter.SecurityFilter" location="top" weight="10">
        <url-pattern>/*</url-pattern>
        <init-param>
            <param-name>config.file</param-name>
            <param-value>/seraph-config.xml</param-value>
        </init-param>
    </servlet-filter>
    
    <servlet key="login-servlet" class="com.atlassian.security.auth.plugin.internal.LoginServlet">
        <url-pattern>/login</url-pattern>
    </servlet>
    
    <servlet key="logout" class="com.atlassian.seraph.logout.LogoutServlet">
        <url-pattern>/logout</url-pattern>
    </servlet>
</atlassian-plugin>
